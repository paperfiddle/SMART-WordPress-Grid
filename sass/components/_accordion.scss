//
// @file /sass/components/_accordion.scss
//
// @file /js/accordion.js
// @file /js/velocity.js
// @file /doc/svg-base64.scss
// @link https://www.cssscript.com/accessible-accordion-ariaaccordion/
// 


// 
// Accordion - Base when JS takes over
// 

.accordion {

	&[data-accordion="true"] {
		margin: 1rem auto;
	}

	&[data-accordion="true"] &__header {
		margin: 4px 0 0 0;
		padding: 0;
	}

	&[data-accordion="true"] &__btn {}	
	&[data-accordion="true"] &__panel {}

} //
 
// 
// Accordion - Buton base
// Button added via JS to inside of `__header`
// Okay to fully style - no fallback needed. 
// 

.accordion__btn {

	display: flex;
	width: 100%;
	text-align: left;
	@include font-size(1.125);
	line-height: 1.424;
	padding: 0.25em 0.3em 0.4em 0.3em;	

	&:before {
		content: '';
		width: 1em; 
		height: 1em; 
		margin: 0.25em 0.25em 0 0;			
	}

	// &[aria-selected="true"] {}
	// &[aria-selected="false"] {}	

	&[aria-expanded="true"]:before {
		background: no-repeat center center
			url("data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'%3E%3Cpath fill='%23ffffff' d='M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z'%3E%3C/path%3E%3C/svg%3E");
	} // 

	&[aria-expanded="false"]:before {
		background: no-repeat center center
			url("data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 512'%3E%3Cpath fill='%23ffffff' d='M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z'%3E%3C/path%3E%3C/svg%3E");
	} // 

} //

// 
// Accordion - Panel base
// Height, scale and opacity toggled via JS
// 

.accordion__panel {

	transform-origin: top;
	margin: 0;

	&[aria-hidden="true"] { 
		overflow: hidden;
		padding: 0;		
	}

	&[aria-hidden="false"] {
		padding: 1rem 0.5rem;
	}

	&[aria-hidden="false"] :first-child {
		margin-top: 0;
		padding-top: 0;
	}

} //


// 
// Accordion - Styles
// 

.accordion__panel {
	border: 2px solid $mc__gray-300;
	border-top: 0;
}

.accordion__btn {

	@include sans-400;
	border: none;

	@include bg-linear-h($color__black-a, 1, $color__black, 1);
	color: white;

	&:hover, &:active, &:focus,
	&[aria-expanded="true"],
	&[aria-selected="true"] {
		@include bg-linear-h($color__secondary, 1, $color__secondary-a, 1);
	}	
	
} //


